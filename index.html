<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Howdy Boot Line Dancers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body {
      margin:0;
      font-family:sans-serif;
      color:#333;
      background:#faf7f0;
    }
    header {
      background:#fff;
      border-bottom:1px solid #ddd;
      padding:1.25rem;
    }
    .container {
      max-width:900px;
      width:100%;
      margin:auto;
    }
    section {
      padding:2rem 0;
      border-bottom:1px solid #eee;
    }
    h1,h2,h3 {
      color:#7b3f00;
      margin-top:0;
    }
    iframe {
      width:100%;
      border:0;
      min-height:350px;
    }
    .footer {
      padding:2rem;
      text-align:center;
      font-size:.8rem;
      color:#777;
    }
  </style>

</head>

<body>

<header>
  <div class="container">
    <h1 data-content-key="hero_title">Howdy Boot Line Dancers</h1>
    <p data-content-key="hero_subtitle">Learn, laugh, and line dance!</p>
  </div>
</header>


<div class="container">

  <!-- ABOUT SECTION -->
  <section>
    <h2 data-content-key="about_title">About Us</h2>

    <p data-content-key="about_paragraph">
      Welcome! We love line dancing and want YOU to feel welcome.
    </p>

    <h3 data-content-key="general_info_heading">General Information & Announcements</h3>

    <!-- GOOGLE DOC EMBED -->
    <iframe src="https://docs.google.com/document/d/e/2PACX-1vSNt_ilcXbHngA8w2L-T0JfaXIp5daI2EERM9YTFvM5x99z2mPXed7bci2X0aZsViCZAhACFt2rN7cj/pub?embedded=true"></iframe>
  </section>


  <!-- SCHEDULE SECTION -->
  <section>
    <h2 data-content-key="schedule_title">Schedule</h2>

    <p data-content-key="schedule_description">
       Weekly classes and events are listed below. Please check back often!
    </p>

    <!-- CALENDAR EMBED -->
    <iframe 
      src="https://calendar.google.com/calendar/embed?src=453b90c61605e8533f9997458c308e04805aeb36294e4fbe58824119e2eaaba7%40group.calendar.google.com&ctz=America%2FNew_York" 
      style="border:0;" 
      frameborder="0" 
      scrolling="no">
    </iframe>

  </section>


  <!-- GALLERY SECTION -->
  <section>
    <h2 data-content-key="gallery_title">Photo Gallery</h2>

    <p data-content-key="gallery_description">
      Add photos to the album, and they will appear here automatically.
    </p>

    <!-- GOOGLE PHOTOS ALBUM -->
    <!-- NOTE: Google Photos does not officially support clean iframe embed.
         Users must click to open album browser view. Still simple to manage. -->
    <iframe 
      src="https://photos.app.goo.gl/32WDAnZHoStuUCfs6"
      style="min-height:400px;">
    </iframe>
  </section>


  <!-- CONTACT SECTION -->
  <section>
    <h2 data-content-key="contact_title">Contact</h2>

    <p><strong>Email:</strong>
      <a href="mailto:info@howdybootlinedancers.com" data-content-key="contact_email">
        info@howdybootlinedancers.com
      </a>
    </p>

    <p><strong>Phone:</strong>
      <span data-content-key="contact_phone">(919) 555-1001</span>
    </p>

    <p data-content-key="contact_footer">We look forward to dancing with you!</p>

  </section>

</div>


<footer class="footer">
  Â© <span id="year"></span> Howdy Boot Line Dancers
</footer>


<script>
document.getElementById('year').textContent = new Date().getFullYear();

// GOOGLE SHEET (CMS)
const SHEET_URL =
 "https://docs.google.com/spreadsheets/d/e/2PACX-1vSEzDs7LVp6yxuIwme97jEC9akDHKNlmaiH3fmyWMkqlay-CjDa84ElNe0QPUD1LVmuBm4hHGGGlnnF/pub?output=csv";

async function loadContent() {
  try {
    const res = await fetch(SHEET_URL);
    const csv = await res.text();
    const rows = csv.split("\n").filter(x=>x.trim());

    let start = rows[0].toLowerCase().startsWith("key") ? 1 : 0;

    const map = {};

    for(let i=start; i<rows.length; i++){
      const [k,...rest] = rows[i].split(",");
      map[k.trim()] = rest.join(",").trim();
    }

    document.querySelectorAll("[data-content-key]").forEach(el=>{
      const key = el.dataset.contentKey;
      if(map[key]) el.innerHTML = map[key];
    });

  } catch(e){
    console.log("Failed to pull Google Sheet.", e);
  }
}

loadContent();
</script>

</body>
</html>
